<!doctype html>
<html lang="pt-BR">
<head>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="/static/styles.css" rel="stylesheet">
<style>
    /* Header do dashboard */
    .dashboard-header {
        background: white;
        padding: 16px 32px;
        box-shadow: var(--shadow);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    
    .logo-container {
        display: flex;
        align-items: center;
        gap: 12px;
    }
    
    .logo {
        width: 40px;
        height: 40px;
        background: var(--gradient-primary);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 18px;
    }
    
    .brand {
        font-size: 20px;
        font-weight: 700;
        color: var(--dark);
    }
    
    .brand span {
        color: var(--primary);
    }
    
    .user-menu {
        display: flex;
        align-items: center;
        gap: 20px;
    }
    
    .user-info {
        display: flex;
        align-items: center;
        gap: 10px;
        background: rgba(67, 97, 238, 0.1);
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: 600;
        color: var(--primary);
    }
    
    .user-avatar {
        width: 32px;
        height: 32px;
        background: var(--gradient-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
    }
    
    .nav-links {
        display: flex;
        gap: 16px;
    }
    
    .nav-link {
        padding: 8px 16px;
        border-radius: 8px;
        text-decoration: none;
        color: var(--gray);
        font-weight: 500;
        transition: all 0.3s ease;
    }
    
    .nav-link:hover {
        background: rgba(67, 97, 238, 0.1);
        color: var(--primary);
    }
    
    .nav-link.active {
        background: var(--gradient-primary);
        color: white;
    }
    
    .logout-btn {
        background: rgba(220, 53, 69, 0.1);
        color: #dc3545;
        padding: 8px 16px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
    }
    
    .logout-btn:hover {
        background: #dc3545;
        color: white;
    }
    
    /* Cards do dashboard */
    .dashboard-card {
        background: white;
        border-radius: var(--radius-lg);
        padding: 24px;
        box-shadow: var(--shadow);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid rgba(0,0,0,0.05);
    }
    
    .dashboard-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
    }
    
    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .card-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--dark);
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .card-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
    }
    
    .temperature .card-icon { background: rgba(76, 201, 240, 0.1); color: #4cc9f0; }
    .luminosity .card-icon { background: rgba(248, 150, 30, 0.1); color: #f8961e; }
    .stats .card-icon { background: rgba(115, 9, 183, 0.1); color: #7209b7; }
    
    .card-value {
        font-size: 32px;
        font-weight: 700;
        color: var(--dark);
        margin: 10px 0;
    }
    
    .card-subtitle {
        color: var(--gray);
        font-size: 14px;
    }
    
    .card-trend {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
    }
    
    .trend-up { background: rgba(40, 167, 69, 0.1); color: #28a745; }
    .trend-down { background: rgba(220, 53, 69, 0.1); color: #dc3545; }
    .trend-neutral { background: rgba(108, 117, 125, 0.1); color: #6c757d; }
    
    /* Container principal */
    .dashboard-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 30px;
    }
    
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 24px;
        margin-bottom: 30px;
    }
    
    .chart-container {
        background: white;
        border-radius: var(--radius-lg);
        padding: 24px;
        box-shadow: var(--shadow);
        margin-bottom: 24px;
    }
    
    .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .chart-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--dark);
    }
    
    /* Footer */
    .dashboard-footer {
        text-align: center;
        padding: 20px;
        color: var(--gray);
        font-size: 14px;
        border-top: 1px solid var(--gray-light);
        margin-top: 40px;
    }
    
    .security-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: rgba(67, 97, 238, 0.1);
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        color: var(--primary);
    }
    
    /* Responsividade */
    @media (max-width: 768px) {
        .dashboard-header {
            flex-direction: column;
            gap: 16px;
            padding: 16px;
        }
        
        .user-menu {
            width: 100%;
            justify-content: space-between;
        }
        
        .dashboard-container {
            padding: 16px;
        }
        
        .dashboard-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
</head>
<body>
  <input id="darkmode" type="checkbox" aria-hidden="true">
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo">SL</div>
        <div>
          <h1>Dashboard ‚Äî Sala de Aula</h1>
          <p class="lead">Visualize m√©dias, extremos e correla√ß√µes de temperatura e luminosidade</p>
        </div>
      </div>

      <div class="controls">
        <label class="toggle" for="darkmode" title="Alternar tema">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/></svg>
          Tema
        </label>
        <a class="btn" href="#" onclick="location.reload();return false;" title="Recarregar dados">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 12a9 9 0 10-2.6 6.01L21 21" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Recarregar
        </a>
        <a class="btn primary" href="#viewer" onclick="document.getElementById('frame').src='/medias'; return false;">
          Abrir M√©dias
        </a>
      </div>
    </header>

    <main class="grid" role="main">
      <!-- Left column: cards -->
      <section class="card" aria-labelledby="card1">
        <div>
          <h3 id="card1">M√©dias das Leituras</h3>
          <p>Compare a m√©dia de temperatura e luminosidade. Gr√°fico em barras para leitura r√°pida.</p>
        </div>
        <div class="actions">
          <a class="btn" href="#" onclick="document.getElementById('frame').src='/medias'; return false;">Visualizar</a>
          <a class="btn" href="/medias" target="_blank">Abrir em nova aba</a>
          <span class="chip">Atual: <strong style="margin-left:6px">‚Äî</strong></span>
        </div>
      </section>

      <section class="card" aria-labelledby="card2">
        <div>
          <h3 id="card2">Contagem de M√≠nimos e M√°ximos</h3>
          <p>Mostra quantas ocorr√™ncias dos valores m√≠nimos e m√°ximos por m√©trica (barras agrupadas).</p>
        </div>
        <div class="actions">
          <a class="btn" href="#" onclick="document.getElementById('frame').src='/contagem'; return false;">Visualizar</a>
          <a class="btn" href="/contagem" target="_blank">Abrir em nova aba</a>
          <span class="chip">Tipo: agrupado</span>
        </div>
      </section>

      <section class="card" aria-labelledby="card3">
        <div>
          <h3 id="card3">Correla√ß√£o Temp √ó Lumi</h3>
          <p>Scatter plot com linha de tend√™ncia para identificar rela√ß√£o entre temperatura e luminosidade.</p>
        </div>
        <div class="actions">
          <a class="btn" href="#" onclick="document.getElementById('frame').src='/correlacao'; return false;">Visualizar</a>
          <a class="btn" href="/correlacao" target="_blank">Abrir em nova aba</a>
          <span class="chip">An√°lise: Pearson</span>
        </div>
      </section>

      <!-- Viewer (central) -->
      <aside class="viewer" id="viewer" aria-label="Visualizador de dashboards">
        <div style="display:flex;align-items:center;justify-content:space-between;">
          <div style="display:flex;gap:12px;align-items:center;">
            <div class="icon">üìä</div>
            <div>
              <div style="font-weight:700">Visualizador Integrado</div>
              <div style="font-size:13px;color:var(--muted)">Abra qualquer dashboard para visualiza√ß√£o imediata</div>
            </div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <a class="btn" href="#" onclick="document.getElementById('frame').src='/medias'; return false;">M√©dias</a>
            <a class="btn" href="#" onclick="document.getElementById('frame').src='/contagem'; return false;">M√≠n/Max</a>
            <a class="btn" href="#" onclick="document.getElementById('frame').src='/correlacao'; return false;">Correla√ß√£o</a>
          </div>
        </div>

        <div class="frame" role="region" aria-label="√Årea do gr√°fico">
          <iframe id="frame" title="Visualizador de dashboards" src="/medias"></iframe>
        </div>

        <div style="display:flex;gap:10px;align-items:center;justify-content:space-between;">
          <div style="color:var(--muted);font-size:13px">Use os bot√µes acima para trocar o dashboard. Abra em nova aba para compartilhar.</div>
          <div style="display:flex;gap:8px">
            <a class="btn" href="/medias" target="_blank">Abrir M√©dias</a>
            <a class="btn" href="/contagem" target="_blank">Abrir Contagem</a>
            <a class="btn" href="/correlacao" target="_blank">Abrir Correla√ß√£o</a>
          </div>
        </div>
      </aside>

      <!-- Right column: stats and info -->
      <section class="side">
        <div class="stat" role="status" aria-live="polite">
          <div>
            <div class="label">√öltima leitura</div>
            <div class="value">2025-01-01 19:50</div>
          </div>
          <div style="text-align:right">
            <div class="label">Registros</div>
            <div class="value">96</div>
          </div>
        </div>

        <div class="stat">
          <div>
            <div class="label">Temperatura m√©dia</div>
            <div class="value">21.9 ¬∞C</div>
          </div>
          <div style="text-align:right">
            <div class="label">Luminosidade m√©dia</div>
            <div class="value">212 lux</div>
          </div>
        </div>

        <div class="card" style="padding:12px;">
          <h3 style="margin-bottom:8px">A√ß√µes r√°pidas</h3>
          <div style="display:flex;flex-direction:column;gap:8px">
            <a class="btn" href="#" onclick="document.getElementById('frame').src='/medias'; return false;">Ver M√©dias</a>
            <a class="btn" href="#" onclick="document.getElementById('frame').src='/contagem'; return false;">Ver M√≠n/Max</a>
            <a class="btn" href="#" onclick="document.getElementById('frame').src='/correlacao'; return false;">Ver Correla√ß√£o</a>
          </div>
        </div>
      </section>
    </main>

    <footer>
      Design moderno, responsivo e acess√≠vel ‚Äî pronto para integrar ao seu Flask backend.
    </footer>
  </div>
</body>
</html>